---
# Quadlet Role - Configuration Defaults

# Container identity (REQUIRED - must be set by calling role)
quadlet_name: ""
quadlet_image: ""

# Container execution
quadlet_command: "" # Command to execute in container
quadlet_user: root # User to run container as (system-level default)

# Environment configuration
quadlet_environment: {} # Environment variables as dict
  # Example: { DB_HOST: "localhost", DB_PORT: "5432" }

# Network configuration
quadlet_ports: [] # Port mappings as list
  # Example: ["8080:80", "127.0.0.1:8443:443"]
quadlet_network: "" # Network name (empty = default bridge)

# Storage configuration
quadlet_volumes: [] # Volume mounts as list
  # Example: ["vol_name:/path/in/container", "/host/path:/container/path:ro"]

# Systemd service configuration
quadlet_service_enabled: true # Enable service on boot
quadlet_service_state: started # Service state: started, stopped
quadlet_restart_policy: "always" # Restart policy: always, on-failure, no

# Container lifecycle
quadlet_auto_update: false # Enable podman auto-update from registry
quadlet_pull_policy: "newer" # Image pull policy: always, never, newer, missing

# Security configuration
quadlet_capabilities: [] # Container capabilities to add
  # Example: ["NET_ADMIN", "SYS_TIME"]
quadlet_security_opt: [] # Security options
  # Example: ["label=disable", "no-new-privileges"]

# Health checks
quadlet_health_cmd: "" # Health check command
quadlet_health_notify: false # Enable Notify=healthy (systemd readiness integration)
quadlet_health_interval: "30s" # Health check interval
quadlet_health_timeout: "30s" # Health check timeout
quadlet_health_retries: 3 # Health check retries
quadlet_health_start_period: "30s" # Grace period before health checks start failing

# Pre-start validation
quadlet_exec_start_pre: "" # Command to run before container starts
quadlet_exec_start_pre_user: "" # User to run pre-start command as (empty = root)

# Service timeouts and restart behavior
quadlet_timeout_start_sec: 90 # Time to wait for service startup
quadlet_restart_sec: 10 # Delay between restart attempts
quadlet_start_limit_burst: 5 # Maximum restart attempts in interval
quadlet_start_limit_interval: 600 # Time window for burst limit (seconds)

# Systemd unit options
quadlet_systemd_after: [] # Systemd After= dependencies
  # Example: ["network-online.target", "postgresql.service"]
quadlet_systemd_requires: [] # Systemd Requires= dependencies
quadlet_systemd_wants: [] # Systemd Wants= dependencies

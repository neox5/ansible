// Unattended-Upgrade configuration - managed by Ansible
// Role: security_hardening

Unattended-Upgrade::Allowed-Origins {
{% if security_unattended_upgrades_security_only %}
    "${distro_id}:${distro_codename}-security";
{% else %}
    "${distro_id}:${distro_codename}";
    "${distro_id}:${distro_codename}-security";
    "${distro_id}:${distro_codename}-updates";
{% endif %}
};

Unattended-Upgrade::AutoFixInterruptedDpkg "true";
Unattended-Upgrade::MinimalSteps "true";
Unattended-Upgrade::InstallOnShutdown "false";
Unattended-Upgrade::Remove-Unused-Kernel-Packages "true";
Unattended-Upgrade::Remove-Unused-Dependencies "true";

{% if security_unattended_upgrades_auto_reboot %}
Unattended-Upgrade::Automatic-Reboot "true";
Unattended-Upgrade::Automatic-Reboot-Time "03:00";
{% else %}
Unattended-Upgrade::Automatic-Reboot "false";
{% endif %}

Unattended-Upgrade::SyslogEnable "true";
Unattended-Upgrade::SyslogFacility "daemon";
